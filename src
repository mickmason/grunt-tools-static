/** 
 * Big Cat Digital custom scripts 
 * Created by Michael Mason 
  */

!function(e){"use strict";var i=new XMLHttpRequest;i.open("GET","style-assets/media/svg/dfa-icons.svg",!0),i.onreadystatechange=function(){if(4===i.readyState)if(200===i.status){var e=i.getResponseHeader("Content-Type");if(-1!==e.indexOf("image/svg+xml")){var t=document.createElement("div");t.setAttribute("class","dfa-icons-stack"),t.innerHTML=i.responseText,document.body.insertBefore(t,document.body.childNodes[0])}else $("body").addClass("no-svg")}else console.log("Load SVG HTTP status is: "+i.status)},i.send(),$(document).on("click",'[data-toggle="lightbox"]',function(e){e.preventDefault(),$(this).ekkoLightbox({onContentLoaded:function(){$(".modal-backdrop").addClass("ekko-lightbox")},alwaysShowClose:!0}),$(this).addClass("gallery-active")}),$(".slick-gallery").slick({mobileFirst:!0,prevArrow:".arrow-left-icon.dfa-icon",nextArrow:".arrow-right-icon.dfa-icon",responsive:[{breakpoint:1440,settings:{slidesToShow:4,slidesToScroll:4}},{breakpoint:995,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:767,settings:{slidesToShow:2,slidesToScroll:2}}]}),$(".scroller-feed__slider").on("init",function(e){$(".scroller-feed__item").length<=1&&$(".scroller-feed__controls").hide()}),$(".discovery-slider__controls__pause, .scroller-feed__pause").on("click",function(e){e.preventDefault();var t=$(this);console.log("This clicked "+t.attr("class")),t.hasClass("discovery-slider__controls__paused")?(t.parents(".discovery-slider__controls").eq(0).siblings(".dfa-slick-slider").slick("slickPlay"),t.removeClass("discovery-slider__controls__paused")):(t.parents(".discovery-slider__controls").eq(0).siblings(".dfa-slick-slider").slick("slickPause"),t.addClass("discovery-slider__controls__paused"))}),$(".scroller-feed__slider").slick({accessibility:!0,mobileFirst:!0,dots:!0,autoplay:!0,autoplaySpeed:4e3,infinite:!1,pauseOnHover:!0,pauseOnDotsHover:!0,slide:".scroller-feed__item",prevArrow:".scroller-feed .discovery-slider__controls_prev",nextArrow:".scroller-feed .discovery-slider__controls_next",adaptiveHeight:!0}),$(".discovery-slider__slider").on("init",function(e){var t=$(this);t.find(".discovery-slider__slide").length<=1&&t.siblings(".discovery-slider__controls").hide(),t.hasClass("slider--stopped")&&console.log(t)}),$(".discovery-slider__slider").slick({mobileFirst:!0,prevArrow:".discovery-slider__controls .discovery-slider__controls_prev",nextArrow:".discovery-slider__controls .discovery-slider__controls_next",adaptiveHeight:!0,autoplay:!0}),$(".panel-group.dfa-accordion")&&$(".panel-collapse").on("show.bs.collapse",function(){$(this).siblings(".panel-heading").addClass("active")}).on("hide.bs.collapse",function(){$(this).siblings(".panel-heading").removeClass("active")});var t=[".landing-feature-image__card__text, .landing-feature-image__card__link-icon",".dfa-card--plain--icon .dfa-card__card-text, .dfa-card--plain--icon .dfa-card__icon",".dfa-card--horizontal .dfa-card__wrap, .dfa-card--horizontal .dfa-card__media",".landing-feature-section .dfa-card__wrap",".features-row--four-col .dfa-card--widget__background",".features-row--two-col .dfa-card--widget__background",".people-feature-person",".people-feature-overlay",".double-section-box__box, .double-section-box__box__wrap",".info-card__address, .info-card__address__misc, .info-card__person"];[".gallery-item .dfa-card__wrap"].forEach(function(e,t,i){$(e).matchHeight()}),768<$(e).outerWidth()&&t.forEach(function(e,t,i){$(e).matchHeight()}),$(e).on("resize",function(){767<=$(e).outerWidth()?t.forEach(function(e,t,i){$(e).matchHeight()}):t.forEach(function(e,t,i){$(e).css("height","auto")})});var a=$("<div />");function n(){if($(".hero-text")){var e=$(".hero-text");if(768<window.outerWidth){var t=parseInt(e.data("font-size"));"NaN"!==t&&e.find(".hero-heading").css("fontSize",t/parseInt($("body").css("fontSize"))+"rem ")}else e.find(".hero-heading").css("fontSize","")}}function s(){$(".hero-video").each(function(){var e=$(this).closest(".hero-video-wrapper"),t=$(this);t.css("width","");var i=e.outerHeight();if(t.outerHeight()<i){var a=i*(16/9);t.css("width",a+"px")}})}""===a.css("filter")&&""===a.css("WebkitFilter")||$("html").addClass("no-filter"),""!==(a=$("<div />")).css("column-width")&&""!==a.css("WebkitColumnWidth")&&""!==a.css("MozColumnWidth")&&$("html").addClass("no-columns"),""===(a=$("<div />")).css("flex")||""===a.css("msFlex")||""===a.css("flex")&&""===a.css("msFlex")||$("html").addClass("no-flex"),$(".header-navigation__mobile-search, .header-navigation__mobile-menu, .desktop-search").on("click",function(e){e.preventDefault();var t=$(this),i=$(".header-navigation__mobile-search, .header-navigation__mobile-menu").not(t),a=$("#"+t.attr("data-target"));if(t.hasClass("desktop-search")&&(t.hasClass("active")?a.stop().slideUp({duration:300,easing:"swing",complete:function(){t.removeClass("active")}}):a.stop().slideDown({duration:300,complete:function(){t.addClass("active")}})),t.hasClass("active"))a.stop().slideUp({duration:300,complete:function(){t.removeClass("active")}});else if(i.hasClass("active")){$("#"+i.attr("data-target")).stop().slideUp({duration:300,easing:"swing",complete:function(){i.removeClass("active"),a.stop().slideDown({duration:300,easing:"swing",complete:function(){t.addClass("active")}})}})}else a.stop().slideDown({duration:300,easing:"swing",complete:function(){t.addClass("active")}})}),$(".secondary-nav-dropdown > a").not(".mob-secondary-nav-dropdown__anchor").on("click",function(e){e.preventDefault();var t=$(this).parent("li"),i=t.find(".secondary-nav__sub");t.hasClass("active")?setTimeout(function(){i.stop().slideUp({duration:100,complete:function(){t.removeClass("active")}})},0):setTimeout(function(){i.stop().slideDown({duration:100,complete:function(){}}),t.addClass("active")},0)}),$(".main-nav-list__dropdown").each(function(){$(".main-nav-list > li");var i=$(this),a=i.find(".main-nav__drop-down");window.outerWidth<992&&i.click(function(e){e.preventDefault();var t=$(".main-nav-list > .main-nav--hover")||void 0;i.hasClass("main-nav--hover")?a.stop().slideUp(300,function(){i.removeClass("main-nav--hover")}):t.length?t.find(".main-nav__drop-down").stop().slideUp(300,function(){t.removeClass("main-nav--hover"),a.stop().slideDown(300,function(){i.addClass("main-nav--hover")})}):a.stop().slideDown(300,function(){i.addClass("main-nav--hover")})})}),$(document).on("click",".inner-navigation .inner-navigation__show-more__icon, .inner-navigation .inner-navigation__show-less__icon",function(e){e.preventDefault(),e.stopPropagation();var t=$(this);t.parents("li").hasClass("active")?t.siblings("ul").stop().slideUp(200,function(){t.parent("li").removeClass("active")}):t.siblings("ul").eq(0).stop().slideDown({duration:200,complete:function(){t.parent("li").stop().addClass("active")}})}),$("#search-submit-button").on("click",function(e){e.preventDefault(),$("#dfa-site-search-input").submit()}),$("#dfa-site-search-input").on("focus",function(e){var t=$(this).attr("placeholder");$(this).attr("placeholder",""),$(this).on("blur",function(e){$(this).attr("placeholder",t)})}),n(),$(e).on("resize",n),s(),$(window).on("resize",function(){s()});var o=140;$(".feature-bottom-opener").on("click",function(e){e.stopPropagation();var t=$(this),i=t.find(".feature-more"),a=t.find(".feature-less"),n=$(".featured-content-section-body .featured-content-block");t.hasClass("active")?a.stop().fadeOut(o,function(){i.fadeIn(o,function(){t.removeClass("active"),n.stop().slideUp({duration:400})})}):i.stop().fadeOut(o,function(){a.fadeIn(o,function(){t.addClass("active"),n.stop().slideDown({duration:o,complete:function(){$(this).css({height:"auto"})}})})})}),$(".accordion-tabs__tab-content").eq(0).fadeIn(function(){$(this).addClass("active")}),$(".accordion-tabs__tabs__item").on("click",function(e){if($(this).hasClass("active"))return!0;var t=$(this);$(".accordion-tabs__tabs__item.active").removeClass("active"),t.addClass("active");$(".accordion-tabs__tab-content.active").fadeOut(220,function(){$(this).removeClass("active"),$("#"+t.attr("rel")).fadeIn(220,function(){$(this).addClass("active")})})}),$(".accordion-tabs__panel-heading").on("click",function(e){var t=$(this);if(t.hasClass("active"))return $(".accordion-tabs__tab-content.active").slideUp(400,function(){$(this).removeClass("active"),t.removeClass("active")}),!0;$(".accordion-tabs__tab-content.active").slideUp(400,function(){$(this).removeClass("active"),$(".accordion-tabs__panel-heading").removeClass("active")}),$("#"+t.attr("rel")).slideDown(400,function(){$(this).addClass("active"),t.addClass("active")})});var r,l=$(".a-z-filters__listing__letter");function c(e){var t=e.find(".a-z-filters__listing__letter-list__item"),i=0;t.each(function(e,t){($(t).hasClass("a-z__item--hidden__region")||$(t).hasClass("a-z__item--hidden__text"))&&i++}),i===t.length?e.hide():e.show()}if($(".a-z-listing__alphabet").find("li").each(function(e,t){var i=$(t);i.addClass("a-z-listing__alphabet_letter"),i.children("a").attr({href:"#a-z-letter__"+i.children("a").text()})}),$(".a-z-listing__alphabet").find("ul").eq(0).addClass("a-z-listing__alphabet_letters"),$(".a-z-listing__filters__clear-all, .a-z-listing__filters__clear-all a").on("click",function(e){e.preventDefault(),l.each(function(){l.find("li").each(function(){var e=$(this);e.removeClass("a-z__item--hidden__text"),e.removeClass("a-z__item--hidden__region")}),$(this).show()}),$("#a-z__text-filter").val(""),$("#travel-a-z__region-filter").val("all")}),$("#a-z__text-filter").on("keyup",function(){var i=$(this).val().toLowerCase();if(""===i)return l.each(function(){l.find("li").each(function(){var e=$(this);e.removeClass("a-z__item--hidden__text"),c(e.parents(".a-z-filters__listing__letter"))})}),!0;l.find("li").each(function(){var e=$(this),t=$(this).text().toLowerCase();e.removeClass("a-z__item--hidden__text"),-1===t.indexOf(i)&&($(e).hasClass("a-z__item--hidden__region")||e.addClass("a-z__item--hidden__text"),c(e.parents(".a-z-filters__listing__letter")))})}),$("#travel-a-z__region-filter").on("change",function(e){e.preventDefault(),$("#a-z__text-filter").val("");var t=$(this);if("all"===(r=t.val()))return l.each(function(){$(this).find("li").each(function(){var e=$(this);e.hasClass("a-z__item--hidden__region")&&e.removeClass("a-z__item--hidden__region")}),$(this).show()}),!0;l.each(function(){$(this).find("li").length;$(this).find("li").each(function(){var e=$(this);e.removeClass("a-z__item--hidden__text"),e.attr("data-region")!==r?(e.hasClass("a-z__item--hidden__region")||e.addClass("a-z__item--hidden__region"),0):e.hasClass("a-z__item--hidden__region")&&e.removeClass("a-z__item--hidden__region")}),c($(this))})}),$(".secondary-nav-dropdown").find("ul").eq(0).addClass("secondary-nav__sub"),$(".secondary-nav-dropdown").find("li").each(function(){$(this).addClass("secondary-nav-link__sub-link")}),0!=$(".security-status").length&&0!=jQuery("body#en-lang").length&&0!=jQuery(".updated-date").length){var d=[];$.each($(".updated-date"),function(){var e=$(this).text();e=e.split(" ");var t=getMonthNumber(e[2]),i=e[1],a=e[3];e=new Date(a,t,i,12,12).getTime(),d.push(e)}),$.unique(d),d=Math.max.apply(Math,d);var _=(d=new Date(d)).getDate()+" "+getMonthName(d.getMonth())+" "+d.getFullYear(),h=new Date,f="<p class='country-travel-info__datestamp' id='updated-data-travel-advice'>";f+="<span id='still_current_title'>Still current at: </span>",f+="<span id='still_current_value'>"+(h.getDate()+" "+getMonthName(h.getMonth())+" "+h.getFullYear())+"</span><br />",f+="<span id='updated_title'>Updated: </span>",f+="<span id='updated_value'>"+_+"</span></p>",$(f).insertAfter(".introduction")}function u(){$(window).outerWidth(!0)<=991?$(".heading--side-bar").on("click",function(e){e.preventDefault(),e.stopPropagation();var t=$(this);t.hasClass("active")?t.siblings(".inner-navigation").fadeOut(200,function(){t.removeClass("active")}):t.siblings(".inner-navigation").fadeIn(200,function(){t.addClass("active")})}):$(".heading--side-bar").off("click")}u(),$(window).on("resize",u),$.cookie("acceptcookies2")?$("#cookieNotice").hide():$("#cookieNotice").show(),$("#cookieNotice .cookies-button .btn").click(function(e){e.preventDefault(),$("#cookieNotice").slideUp(360,function(){$.cookie("acceptcookies2","true",{expires:365,path:"/"})})}),$(document).on("click",".lang-switcher > a.muted",function(e){return e.preventDefault(),!1});new XMLHttpRequest;function v(e,t){var i=new XMLHttpRequest;i.onreadystatechange=function(){if(4===i.readyState)try{404===i.status?t(!1):"https://www.dfa.ie/404/"===i.responseURL?t(!1):"Page not found"===$(i.responseText).find(".content-heading").html()?t(!1):t(!0)}catch(e){t(!1)}},i.addEventListener("error",function(){t(!1)}),i.open("GET",e,!0);try{i.send()}catch(e){t(!1)}}if(0<$(".content--fulltext").length){var p=0<$(".lang-switcher.ie > a").length?$(".lang-switcher.ie > a"):0<$(".lang-switcher.pl > a").length?$(".lang-switcher.pl > a"):0<$(".lang-switcher.es > a").length?$(".lang-switcher.es > a"):0<$(".lang-switcher.cn > a").length?$(".lang-switcher.cn > a"):void 0;if(void 0!==p){var g=p.attr("href");v(g,function(e){if(!1!==e)return!0;-1!==g.indexOf("-1.html")?(g=g.replace("-1.html",".html"),console.log("Remove -1 "+g)):-1!==g.indexOf("-1.php")?(g=g.replace("-1.php",".php"),console.log("Remove -1 "+g)):(g=0<=g.indexOf(".php")?g.replace(".php","-1.php"):g.replace(".html","-1.html"),console.log("Add -1 "+g)),v(g,function(e){!1===e?p.addClass("muted"):p.attr("href",g)})})}}function m(){var e=800<w.outerWidth()?740:w.outerWidth();b.each(function(){$(this).attr("width",e).attr("height",e*$(this).data("aspectRatio"))})}if((0<$(".press-release").length||0<$(".gen-content-landing__block").length)&&0<$("iframe").length){var b=$("iframe"),w=0<$(".gen-content-landing__block").length?$(".gen-content-landing__block"):$(".press-release");b.each(function(){$(this).data("aspectRatio",$(this).attr("height")/$(this).attr("width")).removeAttr("width").removeAttr("height"),$(this).addClass("gen-content-iframe")}),m(),$(window).on("resize",m)}$(".footer-links > ul").addClass("footer-links-list"),$(".main-body--general-content .main-body__main .table, .main-body--general-content .main-body__main table, .gen-content-landing__block .table, .gen-content-landing__block table").wrap('<div class="table-responsive"></div>')}(window);